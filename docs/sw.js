const CACHE_NAME="story-app-v1",TILE_CACHE="osm-tiles-cache-v1",urlsToCache=["/proyekakhirstoryapp/","/proyekakhirstoryapp/index.html","/proyekakhirstoryapp/app.bundle.js","/proyekakhirstoryapp/app.css","/proyekakhirstoryapp/manifest.json","/proyekakhirstoryapp/images/logo.png"];self.addEventListener("install",(e=>{self.skipWaiting(),e.waitUntil(caches.open(CACHE_NAME).then((e=>e.addAll(urlsToCache))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.map((e=>{if(e!==CACHE_NAME&&e!==TILE_CACHE)return caches.delete(e)}))))).then((()=>self.clients.claim())))})),self.addEventListener("fetch",(e=>{const t=e.request.url;t.match(/^https:\/\/[abc]\.tile\.openstreetmap\.org\//)?e.respondWith(caches.open(TILE_CACHE).then((t=>t.match(e.request).then((s=>s||fetch(e.request).then((s=>(t.put(e.request,s.clone()),s))).catch((()=>new Response("",{status:503,statusText:"Service Unavailable"})))))))):"GET"===e.request.method&&t.startsWith(self.location.origin)&&e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>(t&&200===t.status&&"basic"===t.type&&caches.open(CACHE_NAME).then((s=>{s.put(e.request,t.clone())})),t))))))}));